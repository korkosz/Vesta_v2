<div class="row">
    <section class="task-header col-xs-12 col-sm-3 col-md-2" style="background: #f4f4f4;">
        <div>
            <div class="wrapper">
                <h4 class="label label-default">Project</h4>
                <p>{{$ctrl.task.project()}}</p>
            </div>
            <div class="wrapper">
                <h4 class="label label-default">Module</h4>
                <p>{{$ctrl.task.moduleName()}}</p>
            </div>
            <div class="wrapper">
                <h4 class="label label-default">Priority</h4>
                <select ng-model="$ctrl.task.priority" ng-options="priority for priority in $ctrl.taskPriorities.value" ng-change="$ctrl.selectListChanged('priority')">
                </select>
            </div>
            <div class="wrapper">
                <h4 class="label label-default">Type</h4>
                <select ng-model="$ctrl.task.type" ng-options="type for type in $ctrl.taskTypes.value" ng-change="$ctrl.selectListChanged('type')">
                </select>
            </div>
            <div class="wrapper">
                <h4 class="label label-default">Reviewers</h4>
                <ul>
                    <li class="label label-primary">Mateusz Korkosz</li>
                    <li class="label label-primary">Maciej Chmiel</li>
                    <li class="label label-primary">Marcin Trybulec</li>
                </ul>
                <button class="btn btn-default">Add</button>
            </div><br>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteTaskModal">
                Delete
            </button>

            <!-- DELETE Modal -->
            <div class="modal fade" id="deleteTaskModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Remove Task</h4>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to remove this task ?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" ng-click="$ctrl.removeTask()">
                                Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="wrapper">
                <h4 class="label label-default">Status</h4>
                <select ng-model="$ctrl.task.status" ng-change="$ctrl.selectListChanged('status')">
                    <option ng-repeat="status in $ctrl.taskStatuses.value">{{status}}</option>
                </select>
            </div>
        </div>
    </section>
    <section class="task-content col-xs-12 col-sm-9 col-md-6">
        <h4>{{$ctrl.task.title}}</h4>
        <div class="description-wrapper">
            <div class="btn-group-description" ng-switch="$ctrl.descriptionEdited">
                <button type="button" name="button" class="btn-edit" 
                        ng-switch-when="false" ng-click="$ctrl.editDescription()">
                    <span class="glyphicon glyphicon-pencil"></span>
                </button>
                <button type="button" name="button" class="btn-save" 
                        ng-switch-when="true" ng-click="$ctrl.saveDescription()">
                    <span class="glyphicon glyphicon-floppy-disk"></span>
                </button>
            </div>
            <div text-angular ng-model="$ctrl.task.description" ta-disabled="!$ctrl.descriptionEdited" class="wrapper"></div>            
        </div>
    </section>
    <textarea cols="30" rows="10" ng-model="$ctrl.comment"></textarea>
    <button class="btn btn-success" ng-click="$ctrl.addComment()">Add comment</button>
    
    <div ng-repeat="comment in $ctrl.comments">
        {{comment.content}}
    </div>
</div>
<pill></pill>