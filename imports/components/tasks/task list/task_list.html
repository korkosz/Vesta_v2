<table class="table" ng-switch="">
    <caption class="task-caption">{{$ctrl.title}}</caption>
    <thead>
        <tr>
            <th>Project</th>
            <th>Title</th>
            <th>Priority</th>
            <th>Type</th>
            <th ng-if="$ctrl.hasFilter()">Created By</th>
            <th ng-if="!$ctrl.hasFilter()">Assigned</th>
            <th>Created</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="task in $ctrl.tasks |
            orderBy: [$ctrl.statusFilter, '-updatedAt', '-creationDate']" style="opacity: {{$ctrl.getStatusColor(task.status)}}" ng-if="task.sprint === $ctrl.project.currentSprint">
            <td>
                <span class="module-badge module-badge-task">
                    <img src="/images/icon-Task-small.png" alt="Task main icon" />
                </span>
                <a href="#/task/{{task.number}}">
                    <span class="project-badge" data-toggle="tooltip" 
                          title="{{task.projectName()}}">
                              {{task.projectName()[0].toUpperCase()}}
                          </span>
                    <span ng-if="task.isNew" style="color: red">NEW</span>
                </a>
            </td>
            <td>
                <a href="#/task/{{task.number}}">
                    [{{task.number}}] {{task.title}}
                </a>
            </td>
            <td class="middle">
                <a href="#/task/{{task.number}}">
                    <div class="priority priority-{{task.priority}}"></div>
                </a>
            </td>
            <td>
                <a href="#/task/{{task.number}}">
                    {{task.getTypeName()}}
                </a>
            </td>
            <td ng-if="$ctrl.hasFilter()" data-toggle="tooltip" title="{{task.creator()}}">
                <a href="/task/{{task.number}}">
                    {{task.creatorShort()}}
                </a>
            </td>
            <td ng-if="!$ctrl.hasFilter()" data-toggle="tooltip" title="{{task.assignedUser()}}">
                <a href="#/task/{{task.number}}">
                {{task.assignedUserShort()}}
                </a>
            </td>
            <td>
                <a href="#/task/{{task.number}}">
                {{$ctrl.moment(task.creationDate).fromNow()}}
                </a>
            </td>
        </tr>
    </tbody>
</table>
